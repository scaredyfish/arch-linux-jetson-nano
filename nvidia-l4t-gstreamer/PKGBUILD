# Generated by debtap
# Maintainer: Scaredyfish
# Contributor: Scaredyfish
pkgname=nvidia-l4t-gstreamer-plugins
pkgver=32.7.3
pkgrel=1
pkgdesc="NVIDIA GST Application files."
arch=('aarch64')
url="http://developer.nvidia.com/jetson"
license=('nVidia')
groups=('')
depends=('alsa-lib' 'expat' 'gcc' 'glib2' 'gst-plugins-bad-libs' 'gst-plugins-base-libs' 'gstreamer' 'libbsd' 'libglvnd' 'libx11' 'libxcb' 'libxdmcp' 'libxext' 'nvidia-l4t-camera=32.7.3' 'nvidia-l4t-core<32.8' 'nvidia-l4t-core>32.7' 'nvidia-l4t-cuda=32.7.3' 'nvidia-l4t-multimedia-utils=32.7.3' 'nvidia-l4t-multimedia=32.7.3' 'pcre' 'wayland')
options=('!strip' '!emptydirs')
install=${pkgname}.install
source=("nvidia-l4t-gstreamer_32.7.3-20221122092935_arm64.deb")
sha512sums=('81b97573cd6fbca83fda8fea9633d00ad80d5c2f29b06ef47b4c6dc2a23332adeaf6e3da5daf38174a2dcd87580ed1072d66e582576b92df6ccbd832b156205d')

package(){

	# Extract package data
	tar -xI unzstd -f data.tar.zst -C "${pkgdir}"

	install -D -m644 "${pkgdir}/usr/share/doc/nvidia-tegra/LICENSE.libgstnvvideosinks" "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
	install -D -m644 "${pkgdir}/usr/share/doc/nvidia-l4t-gstreamer/copyright" "${pkgdir}/usr/share/licenses/${pkgname}/COPYRIGHT"

	mv "${pkgdir}/usr/lib/aarch64-linux-gnu/gstreamer-1.0" "${pkgdir}/usr/lib/gstreamer-1.0"
	rm "${pkgdir}/usr/bin/gst-install"		
}
